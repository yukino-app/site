import{d as _,o as r,b as c,h as i,t as d,M as w,N as g,g as x,O as b,r as k,i as p,k as y,F as h,j as v,f as $}from"./vendor.8d1bb6f7.js";import{U as j}from"./index.3694d6a7.js";const C={class:"text-center"},L={class:"font-bold text-3xl"},N=_({props:{title:{type:String,required:!0}},setup(l){return(n,a)=>(r(),c("div",C,[i("h1",L,d(l.title),1)]))}}),S=l=>{const[n,a]=l.split("-").splice(-1)[0].split(".");let s,o,t,e=n;switch(a){case"zip":s="Archive",o="archive";break;default:s="Setup",o="box-open";break}switch(n){case"windows":t="Windows";break;case"linux":t="Linux";break;case"android":t="Android";break;case"macos":t="MacOS",e="apple";break;case"ios":t="iOS",e="apple";break;default:throw new Error("Unknown Platform")}return{name:s,platform:{name:t,icon:e},format:a,icon:o}},M=async l=>{let n;switch(l){case"latest":n="latest";break;default:n=`tags/${l}`;break}const a=await fetch(`${j.releasesCdn}/${n}`);if(a.status!=200)throw new Error(`Failed with status code ${a.status}${a.statusText.length?` (${a.statusText})`:""}`);const s=await a.json(),o={};for(const t of s.assets){const e=S(t.name);o[e.platform.name]||(o[e.platform.name]={name:e.platform.name,icon:e.platform.icon,files:[]}),o[e.platform.name].files.push({name:e.name,format:e.format,size:t.size,url:t.browser_download_url,icon:e.icon})}return{version:s.tag_name,platforms:Object.values(o).sort((t,e)=>navigator.userAgent.toLowerCase().includes(t.name.toLowerCase())?-1:0)}},z={class:"wx wy"},B={key:0,class:"text-center text-sm text-gray-700 text-gray-400"},F={key:1,class:"mt-4 text-center text-sm text-red-500"},O={key:2,class:"mt-4 text-center text-sm text-gray-500"},U={key:3,class:"mt-10 grid grid-cols-1 md:grid-cols-2 gap-8"},V={class:"bg-gradient-to-br from-indigo-500 via-purple-500 to-purple-500 text-white px-6 py-4 rounded-md text-center"},A={class:"flex justify-center items-center gap-6"},D={class:"text-3xl"},E={class:"text-2xl font-bold"},I={class:"mt-4 flex flex-col md:flex-row justify-center items-center gap-3"},R=["href"],T={class:"text-xl"},q={class:"text-sm"},P={class:"text-xs"},W={class:"text-xs"},J=_({setup(l){const n=w(),a=g(),s=x(null),o=x();return b(async()=>{if(typeof n.params.version!="string"){o.value="Unknown version";return}try{s.value=await M(n.params.version),await a.replace(`/download/${s.value.version}/`)}catch(e){o.value=`Something went wrong: ${e}`}}),(t,e)=>{const f=k("Icon");return r(),c("div",z,[p(N,{title:"Download"}),s.value?(r(),c("p",B,d(s.value.version),1)):y("",!0),o.value?(r(),c("p",F,d(o.value),1)):s.value?(r(),c("div",U,[(r(!0),c(h,null,v(s.value.platforms,m=>(r(),c("div",V,[i("div",A,[i("p",D,[p(f,{icon:["fab",m.icon]},null,8,["icon"])]),i("p",E,d(m.name),1)]),i("div",I,[(r(!0),c(h,null,v(m.files,u=>(r(),c("a",{class:"transition duration-200 hover:-translate-y-1 bg-white px-3 py-1 rounded text-indigo-500 flex justify-center items-center gap-3",href:u.url},[i("div",T,[p(f,{icon:u.icon},null,8,["icon"])]),i("div",null,[i("p",q,[$(d(u.name)+" ",1),i("span",P,"("+d(u.format)+")",1)]),i("p",W,d((u.size/1024/1024).toFixed(1))+" MB ",1)])],8,R))),256))])]))),256))])):(r(),c("p",O," Loading... "))])}}});export{J as default};
